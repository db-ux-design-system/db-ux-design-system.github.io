---
import type { MarkdownHeading } from 'astro';
import '../../styles/global.css';
import HtmlHead from './html-head';
import MainContent from './main-content';
import { appConfig } from '@root/app.config.ts';
import { Shell } from './shell';
import interactiveDemoScriptUrl from '@template/components/InteractiveDemo/interactiveDemo.client.js?url';

interface Props {
	headings: MarkdownHeading[];
	frontmatter: FrontMatter;
}
const { headings, frontmatter } = Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang={appConfig.language || 'en'}>
	<HtmlHead title={frontmatter.title} loadModelViewer={frontmatter.loadModelViewer} />
	<body>
		<Shell
			client:only="react"
			pathname={currentPath}
			subNavigationVariant={frontmatter.subNavigationVariant}
		>
			<div class="dba-main-grid">
				<MainContent frontmatter={frontmatter} headings={headings}>
					<slot />
				</MainContent>
			</div>
		</Shell>
		<script is:inline type="module" src={interactiveDemoScriptUrl}></script>
	</body>
</html>
